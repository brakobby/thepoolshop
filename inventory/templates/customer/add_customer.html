{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Add Customer â€“ THE POOLsHOP</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{--bg:#f8faff;--panel:#ffffff;--muted:#64748b;--primary-600:#0d6efd;--primary-700:#0b5ed7;--accent:#3b82f6;--card-shadow:0 10px 30px rgba(13,110,253,.06);--glass:rgba(255,255,255,.85);--border:rgba(13,110,253,.08);--rounded:14px;--transition:all .22s cubic-bezier(.4,0,.2,1)}
    .dark-mode-enh{--bg:#0f172a;--panel:#1e293b;--muted:#94a3b8;--primary-600:#60a5fa;--primary-700:#3b82f6;--card-shadow:0 10px 30px rgba(0,0,0,.3);--glass:rgba(30,41,59,.9);--border:rgba(255,255,255,.08);color:#e2e8f0}
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:'Inter','Segoe UI',sans-serif}
    body{background:var(--bg);color:#1e293b;overflow:hidden;transition:var(--transition)}
    .topbar{height:70px;background:var(--glass);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);box-shadow:0 4px 20px rgba(0,0,0,.04);position:sticky;top:0;z-index:1030;transition:var(--transition)}
    .brand{display:flex;align-items:center;gap:.6rem;font-weight:700;color:var(--primary-700);text-decoration:none;font-size:1.15rem}
    .brand i{color:var(--primary-600);font-size:1.35rem}
    .layout{display:flex;height:calc(100vh - 70px);overflow:hidden}
    .sidebar{width:260px;min-width:260px;background:linear-gradient(180deg,#052a6b,#0b63d6);color:#fff;padding:1.5rem 1rem;display:flex;flex-direction:column;overflow:hidden;transition:width .3s ease;box-shadow:8px 0 30px rgba(5,42,107,.12)}
    .sidebar .nav-title{font-size:.72rem;color:rgba(255,255,255,.8);letter-spacing:.08em;margin:0 0 .8rem .8rem;font-weight:600}
    .sidebar .nav-link{color:rgba(255,255,255,.92);padding:.75rem .9rem;border-radius:10px;display:flex;align-items:center;gap:.8rem;font-weight:600;transition:var(--transition);margin:.2rem .5rem}
    .sidebar .nav-link:hover{background:rgba(255,255,255,.12);transform:translateX(6px);box-shadow:0 4px 12px rgba(0,0,0,.1)}
    .sidebar .nav-link.active{background:rgba(255,255,255,.18);box-shadow:inset 0 0 0 1px rgba(255,255,255,.1);font-weight:700}
    .sidebar-collapsed{width:72px!important;min-width:72px!important}
    .sidebar-collapsed .nav-title,.sidebar-collapsed .nav-link .label{display:none}
    .sidebar-collapsed .nav-link{justify-content:center;padding:.75rem}
    .main{flex:1;overflow-y:auto;overflow-x:hidden;padding:1.5rem;background:var(--bg);transition:var(--transition)}
    .page-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:.75rem;border-bottom:1px solid var(--border)}
    .page-title{font-size:1.4rem;font-weight:700;color:var(--primary-700);display:flex;align-items:center;gap:.5rem}
    .form-card{background:var(--panel);border-radius:var(--rounded);padding:1.5rem;box-shadow:var(--card-shadow);border:1px solid var(--border)}
    .form-label{font-weight:600;color:#1e293b}
    .form-control{border-radius:10px;padding:.65rem 1rem;font-size:.925rem;border:1px solid #ced4da;transition:var(--transition)}
    .form-control:focus{border-color:var(--primary-600);box-shadow:0 0 0 3px rgba(13,110,253,.15)}
    .btn-action{padding:.65rem 1.5rem;border-radius:10px;font-weight:600}
    @media(max-width:992px){.layout{flex-direction:column}.sidebar{width:100%;height:auto;padding:1rem;box-shadow:none}}
  </style>
</head>
<body>

  <!-- Topbar -->
  <header class="topbar">
    <div class="container-fluid h-100 d-flex align-items-center justify-content-between px-3 px-lg-4">
      <div class="d-flex align-items-center gap-3">
        <button id="sidebarToggle" class="btn btn-sm btn-outline-primary d-lg-none"><i class="fa fa-bars"></i></button>
        <a href="{% url 'dashboard' %}" class="brand"><i class="fas fa-swimming-pool"></i><span class="brand-text">THE POOLsHOP</span></a>
        <div class="small text-muted d-none d-md-inline">Add Customer</div>
      </div>
      <div class="d-flex align-items-center gap-2">
        <div class="text-muted small d-none d-md-flex align-items-center"><i class="far fa-calendar me-2"></i> {{ "now"|date:"D, d M Y" }}</div>
        <div class="dropdown">
          <button class="btn btn-light btn-sm dropdown-toggle d-flex align-items-center gap-1" data-bs-toggle="dropdown">
            <i class="fas fa-user-circle"></i><span class="d-none d-md-inline">{{ user.get_full_name|default:user.username }}</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#">Profile</a></li><li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="{% url 'logout' %}">Logout</a></li>
          </ul>
        </div>
        <button id="darkModeToggle" class="btn btn-outline-primary btn-sm"><i class="fas fa-moon"></i></button>
      </div>
    </div>
  </header>

  <!-- Layout -->
  <div class="layout">

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="nav-title">NAVIGATION</div>
      <nav class="nav flex-column flex-grow-1">
        <a class="nav-link{% if request.resolver_match.url_name == 'dashboard' %} active{% endif %}" href="{% url 'dashboard' %}"><i class="fas fa-tachometer-alt"></i><span class="label">Dashboard</span></a>
        <a class="nav-link{% if request.resolver_match.url_name == 'inventory_list' %} active{% endif %}" href="{% url 'inventory_list' %}"><i class="fas fa-boxes"></i><span class="label">Inventory</span></a>
        <a class="nav-link{% if request.resolver_match.url_name == 'low_stock_list' %} active{% endif %}" href="{% url 'low_stock_list' %}"><i class="fas fa-exclamation-triangle"></i><span class="label">Low Stock</span></a>
        <a class="nav-link{% if request.resolver_match.url_name == 'create_invoice' %} active{% endif %}" href="{% url 'create_invoice' %}"><i class="fas fa-receipt"></i><span class="label">Create Invoice</span></a>
        <a class="nav-link{% if request.resolver_match.url_name == 'invoice_list' %} active{% endif %}" href="{% url 'invoice_list' %}"><i class="fas fa-file-invoice-dollar"></i><span class="label">Invoices</span></a>
        <a class="nav-link active" href="{% url 'customer_list' %}"><i class="fas fa-users"></i><span class="label">Customers</span></a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="main">
      <section class="page-header">
        <div class="page-title"><i class="fas fa-user-plus"></i> Add Customer</div>
        <a href="{% url 'customer_list' %}" class="btn btn-outline-secondary btn-sm"><i class="fas fa-arrow-left"></i> Back</a>
      </section>

      <div class="form-card">
        <form method="post">
          {% csrf_token %}
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Full Name <span class="text-danger">*</span></label>
              <input type="text" name="name" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Phone</label>
              <input type="text" name="phone" class="form-control" placeholder="+233...">
            </div>
            <div class="col-md-6">
              <label class="form-label">Email</label>
              <input type="email" name="email" class="form-control">
            </div>
            <div class="col-md-6">
              <label class="form-label">Address</label>
              <input type="text" name="address" class="form-control">
            </div>
          </div>
          <div class="d-flex justify-content-end gap-2 mt-4">
            <a href="{% url 'customer_list' %}" class="btn btn-outline-secondary btn-action">Cancel</a>
            <button type="submit" class="btn btn-primary btn-action"><i class="fas fa-save"></i> Save Customer</button>
          </div>
        </form>
      </div>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const sidebar=document.getElementById('sidebar'),toggleBtn=document.getElementById('sidebarToggle');
    toggleBtn&&toggleBtn.addEventListener('click',()=>{sidebar.classList.toggle('sidebar-collapsed')});
    const darkToggle=document.getElementById('darkModeToggle');
    darkToggle.addEventListener('click',()=>{document.body.classList.toggle('dark-mode-enh');const i=darkToggle.querySelector('i');i.classList.toggle('fa-moon');i.classList.toggle('fa-sun')});
  </script>
</body>
</html>